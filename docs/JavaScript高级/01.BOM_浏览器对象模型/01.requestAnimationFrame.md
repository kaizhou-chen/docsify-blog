## requestAnimationFrame



### 执行耗时任务

在浏览器空闲时，执行耗时任务

```js
function runTask(task, callback) {
  const start = Date.now();

  requestAnimationFrame(() => {
    // 如果当前渲染帧，还有时间执行任务
    if (Date.now() - start < 16.6) {
      task();
      callback();
    } else {
      // 如果没有时间，则放入下个渲染帧执行
      runTask(task, callback)
    }
  })
}
```

