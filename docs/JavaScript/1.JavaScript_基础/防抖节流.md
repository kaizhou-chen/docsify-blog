### 防抖、节流

#### 防抖

- 边输入，边搜索。或者边输入，边校验。要等用户最后一次输入完，再发送请求

- 窗口大小发生变化，要等窗口调整完毕，再计算窗口大小。避免重复渲染

```js
/* 防抖 */
function debounce(fn, delay) {
	let timer = null;
	return function () {
		clearTimeout(timer);
		timer = setTimeout(() => {
			fn.apply(this, arguments);
		}, delay);
	};
}
```

#### 节流

- 懒加载、滚动加载，或者监听滚动条位置

- 防止高频点击，防止表单重复提交

```js
/* 防抖 */
function throttle(fn, delay) {
	let valid = true;
	return function () {
		/* 一开始就触发---后续每隔delay时间内只触发一次 */
		if (valid) {
			valid = false; // 关闭阀门
			// 如果阀门已经打开，就继续往下
			setTimeout(() => {
				fn.apply(this, arguments); // 定时器结束后执行
				valid = true; // 执行完成后打开阀门
			}, delay);
		}
	};
}
```

参考文档：[https://blog.csdn.net/qq_44741577/article/details/135951852](https://blog.csdn.net/qq_44741577/article/details/135951852)
